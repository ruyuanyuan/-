(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.squareHasItemClass=function(e,t){var n=(t&h)>>>g;return Math.pow(2,e)&n};var r=t.SpriteSpeed={VERY_SLOW:2,SLOW:3,LITTLE_SLOW:4,NORMAL:5,LITTLE_FAST:6,FAST:8,VERY_FAST:12},o=(t.SpriteSize={VERY_SMALL:.5,SMALL:.75,NORMAL:1,LARGE:1.5,VERY_LARGE:2},t.Direction={NONE:0,NORTH:1,EAST:2,SOUTH:4,WEST:8,NORTHEAST:3,SOUTHEAST:6,SOUTHWEST:12,NORTHWEST:9}),i=(t.turnLeft90=function(e){return e>>1||o.WEST},t.turnRight90=function(e){return e<<1&15||o.NORTH},o),a=t.ClockwiseDirectionsFromNorth=[i.NORTH,i.NORTHEAST,i.EAST,i.SOUTHEAST,i.SOUTH,i.SOUTHWEST,i.WEST,i.NORTHWEST],s=(t.CardinalDirections=[i.NORTH,i.SOUTH,i.EAST,i.WEST],t.getClosestDirection=function(e,t){var n=Math.atan2(e,-t),r=Math.PI/4,o=(Math.round(n/r)+8)%8;return a[o]},t.frameDirTable={});s[i.SOUTHEAST]=0,s[i.EAST]=1,s[i.NORTHEAST]=2,s[i.NORTH]=3,s[i.NORTHWEST]=4,s[i.WEST]=5,s[i.SOUTHWEST]=6;var l=t.frameDirTableWalking={};l[i.NONE]=0,l[i.SOUTH]=0,l[i.SOUTHEAST]=1,l[i.EAST]=2,l[i.NORTHEAST]=3,l[i.NORTH]=4,l[i.NORTHWEST]=5,l[i.WEST]=6,l[i.SOUTHWEST]=7;var u=t.frameDirTableWalkingWithIdleClockwise={};u[i.NONE]=8,u[i.SOUTH]=0,u[i.SOUTHEAST]=1,u[i.EAST]=2,u[i.NORTHEAST]=3,u[i.NORTH]=4,u[i.NORTHWEST]=5,u[i.WEST]=6,u[i.SOUTHWEST]=7;var c=t.frameDirTableWalkingWithIdleCounterclockwise={};c[i.NONE]=8,c[i.SOUTH]=0,c[i.SOUTHEAST]=7,c[i.EAST]=6,c[i.NORTHEAST]=5,c[i.NORTH]=4,c[i.NORTHWEST]=3,c[i.WEST]=2,c[i.SOUTHWEST]=1;var d=t.UNIT_VECTOR={};d[i.NONE]={x:0,y:0},d[i.NORTH]={x:0,y:-1},d[i.EAST]={x:1,y:0},d[i.SOUTH]={x:0,y:1},d[i.WEST]={x:-1,y:0},d[i.NORTHEAST]={x:1,y:-1},d[i.SOUTHEAST]={x:1,y:1},d[i.SOUTHWEST]={x:-1,y:1},d[i.NORTHWEST]={x:-1,y:-1},i.getUnitVector=function(e){return d[e]};t.Position={OUTTOPOUTLEFT:1,OUTTOPLEFT:2,OUTTOPCENTER:3,OUTTOPRIGHT:4,OUTTOPOUTRIGHT:5,TOPOUTLEFT:6,TOPLEFT:7,TOPCENTER:8,TOPRIGHT:9,TOPOUTRIGHT:10,MIDDLEOUTLEFT:11,MIDDLELEFT:12,MIDDLECENTER:13,MIDDLERIGHT:14,MIDDLEOUTRIGHT:15,BOTTOMOUTLEFT:16,BOTTOMLEFT:17,BOTTOMCENTER:18,BOTTOMRIGHT:19,BOTTOMOUTRIGHT:20,OUTBOTTOMOUTLEFT:21,OUTBOTTOMLEFT:22,OUTBOTTOMCENTER:23,OUTBOTTOMRIGHT:24,OUTBOTTOMOUTRIGHT:25};var p=t.NextTurn={};p[i.NORTH]={},p[i.NORTH][i.NORTH]=i.NORTH,p[i.NORTH][i.EAST]=i.NORTHEAST,p[i.NORTH][i.SOUTH]=i.NORTHEAST,p[i.NORTH][i.NONE]=i.NORTHEAST,p[i.NORTH][i.WEST]=i.NORTHWEST,p[i.NORTH][i.NORTHEAST]=i.NORTHEAST,p[i.NORTH][i.SOUTHEAST]=i.NORTHEAST,p[i.NORTH][i.SOUTHWEST]=i.NORTHWEST,p[i.NORTH][i.NORTHWEST]=i.NORTHWEST,p[i.EAST]={},p[i.EAST][i.NORTH]=i.NORTHEAST,p[i.EAST][i.EAST]=i.EAST,p[i.EAST][i.SOUTH]=i.SOUTHEAST,p[i.EAST][i.NONE]=i.SOUTHEAST,p[i.EAST][i.WEST]=i.SOUTHEAST,p[i.EAST][i.NORTHEAST]=i.NORTHEAST,p[i.EAST][i.SOUTHEAST]=i.SOUTHEAST,p[i.EAST][i.SOUTHWEST]=i.SOUTHEAST,p[i.EAST][i.NORTHWEST]=i.NORTHEAST,p[i.SOUTH]={},p[i.SOUTH][i.NORTH]=i.SOUTHEAST,p[i.SOUTH][i.EAST]=i.SOUTHEAST,p[i.SOUTH][i.SOUTH]=i.SOUTH,p[i.SOUTH][i.NONE]=i.NONE,p[i.SOUTH][i.WEST]=i.SOUTHWEST,p[i.SOUTH][i.NORTHEAST]=i.SOUTHEAST,p[i.SOUTH][i.SOUTHEAST]=i.SOUTHEAST,p[i.SOUTH][i.SOUTHWEST]=i.SOUTHWEST,p[i.SOUTH][i.NORTHWEST]=i.SOUTHWEST,p[i.WEST]={},p[i.WEST][i.NORTH]=i.NORTHWEST,p[i.WEST][i.EAST]=i.SOUTHWEST,p[i.WEST][i.SOUTH]=i.SOUTHWEST,p[i.WEST][i.NONE]=i.SOUTHWEST,p[i.WEST][i.WEST]=i.WEST,p[i.WEST][i.NORTHEAST]=i.NORTHWEST,p[i.WEST][i.SOUTHEAST]=i.SOUTHWEST,p[i.WEST][i.SOUTHWEST]=i.SOUTHWEST,p[i.WEST][i.NORTHWEST]=i.NORTHWEST,p[i.NORTHEAST]={},p[i.NORTHEAST][i.NORTH]=i.NORTH,p[i.NORTHEAST][i.EAST]=i.EAST,p[i.NORTHEAST][i.SOUTH]=i.EAST,p[i.NORTHEAST][i.NONE]=i.EAST,p[i.NORTHEAST][i.WEST]=i.NORTH,p[i.NORTHEAST][i.NORTHEAST]=i.NORTHEAST,p[i.NORTHEAST][i.SOUTHEAST]=i.EAST,p[i.NORTHEAST][i.SOUTHWEST]=i.EAST,p[i.NORTHEAST][i.NORTHWEST]=i.NORTH,p[i.SOUTHEAST]={},p[i.SOUTHEAST][i.NORTH]=i.EAST,p[i.SOUTHEAST][i.EAST]=i.EAST,p[i.SOUTHEAST][i.SOUTH]=i.SOUTH,p[i.SOUTHEAST][i.NONE]=i.SOUTH,p[i.SOUTHEAST][i.WEST]=i.SOUTH,p[i.SOUTHEAST][i.NORTHEAST]=i.EAST,p[i.SOUTHEAST][i.SOUTHEAST]=i.SOUTHEAST,p[i.SOUTHEAST][i.SOUTHWEST]=i.SOUTH,p[i.SOUTHEAST][i.NORTHWEST]=i.SOUTH,p[i.SOUTHWEST]={},p[i.SOUTHWEST][i.NORTH]=i.WEST,p[i.SOUTHWEST][i.EAST]=i.SOUTH,p[i.SOUTHWEST][i.SOUTH]=i.SOUTH,p[i.SOUTHWEST][i.NONE]=i.SOUTH,p[i.SOUTHWEST][i.WEST]=i.WEST,p[i.SOUTHWEST][i.NORTHEAST]=i.SOUTH,p[i.SOUTHWEST][i.SOUTHEAST]=i.SOUTH,p[i.SOUTHWEST][i.SOUTHWEST]=i.SOUTHWEST,p[i.SOUTHWEST][i.NORTHWEST]=i.WEST,p[i.NORTHWEST]={},p[i.NORTHWEST][i.NORTH]=i.NORTH,p[i.NORTHWEST][i.EAST]=i.NORTH,p[i.NORTHWEST][i.SOUTH]=i.WEST,p[i.NORTHWEST][i.NONE]=i.WEST,p[i.NORTHWEST][i.WEST]=i.WEST,p[i.NORTHWEST][i.NORTHEAST]=i.NORTH,p[i.NORTHWEST][i.SOUTHEAST]=i.WEST,p[i.NORTHWEST][i.SOUTHWEST]=i.WEST,p[i.NORTHWEST][i.NORTHWEST]=i.NORTHWEST,p[i.NONE]={},p[i.NONE][i.NORTH]=i.SOUTHEAST,p[i.NONE][i.EAST]=i.SOUTHEAST,p[i.NONE][i.SOUTH]=i.SOUTH,p[i.NONE][i.NONE]=i.NONE,p[i.NONE][i.WEST]=i.SOUTHWEST,p[i.NONE][i.NORTHEAST]=i.SOUTHEAST,p[i.NONE][i.SOUTHEAST]=i.SOUTHEAST,p[i.NONE][i.SOUTHWEST]=i.SOUTHWEST,p[i.NONE][i.NORTHWEST]=i.SOUTHWEST;t.Emotions={NORMAL:0,HAPPY:1,ANGRY:2,SAD:3},t.FINISH_COLLIDE_DISTANCE_SCALING=.75,t.SPRITE_COLLIDE_DISTANCE_SCALING=.9,t.DEFAULT_SPRITE_SPEED=r.NORMAL,t.DEFAULT_SPRITE_SIZE=1,t.DEFAULT_SPRITE_ANIMATION_FRAME_DURATION=6,t.DEFAULT_PROJECTILE_SPEED=r.SLOW,t.DEFAULT_PROJECTILE_ANIMATION_FRAME_DURATION=1.5,t.DEFAULT_ITEM_SPEED=r.SLOW,t.DEFAULT_ITEM_ANIMATION_FRAME_DURATION=1.5;var f=t.SquareType={OPEN:0,SPRITEFINISH:1,NOT_USED_2:2,WALL:4,NOT_USED_8:8,SPRITESTART:16,ITEM_CLASS_0:32,ITEM_CLASS_1:64,ITEM_CLASS_2:128,ITEM_CLASS_3:256,ITEM_CLASS_4:512,ITEM_CLASS_5:1024,ITEM_CLASS_6:2048,ITEM_CLASS_7:4096,NOT_USED_8K:8192,NOT_USED_16K:16384,NOT_USED_32K:32768},h=t.SquareItemClassMask=f.ITEM_CLASS_0|f.ITEM_CLASS_1|f.ITEM_CLASS_2|f.ITEM_CLASS_3|f.ITEM_CLASS_4|f.ITEM_CLASS_5|f.ITEM_CLASS_6|f.ITEM_CLASS_7,g=t.SquareItemClassShift=5;t.WallType={NORMAL_SIZE:0,DOUBLE_SIZE:1,JUMBO_SIZE:2};var m=t.WallTypeMask=251658240,v=t.WallCoordRowMask=15728640,T=t.WallCoordColMask=983040,y=t.WallCoordsMask=m|v|T,S=t.WallCoordsShift=16;t.WallCoordColShift=S,t.WallCoordRowShift=4+S,t.WallTypeShift=8+S,t.WallCoordMax=16,t.WallRandomCoordMax=2,t.WallAnyMask=y|f.WALL,t.floatingScoreChangeOpacity=-.025,t.floatingScoreChangeY=-1,t.RANDOM_VALUE="random",t.HIDDEN_VALUE='"hidden"',t.CLICK_VALUE='"click"',t.VISIBLE_VALUE='"visible"',t.EMPTY_QUOTES='""',t.IDLE_TICKS_BEFORE_FACE_SOUTH=4,t.DEFAULT_ANIMATION_RATE=20,t.GOAL_FADE_TIME=200,t.ITEM_FADE_TIME=200,t.DEFAULT_ACTOR_FADE_TIME=1e3,t.TOUCH_HAZARD_EFFECT_TIME=1500,t.SHAKE_DEFAULT_DURATION=1e3,t.SHAKE_DEFAULT_CYCLES=6,t.SHAKE_DEFAULT_DISTANCE=5,t.MAX_NUM_CLOUDS=2,t.CLOUD_SIZE=300,t.CLOUD_OPACITY=.7,t.SOUND_THROTTLE_TIME=200,t.TOUCH_OBSTACLE_THROTTLE_TIME=330,t.BEHAVIOR_CHASE="chase",t.BEHAVIOR_FLEE="flee",t.BEHAVIOR_STOP="none",t.BEHAVIOR_WANDER="roam",t.BEHAVIOR_WATCH_ACTOR="watchActor",t.BEHAVIOR_GRID_ALIGNED="grid",t.CAPTURE_TICK_COUNT=20},1621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnsupportedBrowser=function(){return function(){var e=-1!==navigator.userAgent.indexOf("MSIE"),t=navigator.appVersion.indexOf("Trident/"),n=e&&t<8,r=navigator.userAgent.match("MSIE 7.0;"),o=navigator.userAgent.match("MSIE 8.0;"),i=navigator.userAgent.match("MSIE 9.0;"),a=navigator.userAgent.match("MSIE 10.0;");return n||r||o||i||a}()||function(){var e=-1!==navigator.userAgent.lastIndexOf("Chrome/"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Chrome/")+7,2);return e&&t<33}()||function(){var e=-1!==navigator.userAgent.indexOf("Safari/"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Version/")+8,2);return e&&t<7}()||function(){var e=-1!==navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Firefox/")+8,2);return e&&t<25}()},t.isMobileDevice=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isStorageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}},2078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,a.getStore)();window.addEventListener("resize",(0,i.default)(function(){e.dispatch((0,s.setResponsiveSize)((0,s.getResponsiveBreakpoint)(window.innerWidth)))},100))};var r,o=n(738),i=(r=o)&&r.__esModule?r:{default:r},a=n(579),s=n(697);e.exports=t.default},2079:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s,l=n(1299).tiles.SquareType,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s=o.default.Component),c.prototype.handleChange=function(){var e=new FormData(this.form),t=Array.from(e).reduce(function(e,t){var n=i(t,2),r=n[0],o=n[1];return o="undefined"===o?void 0:isNaN(o)?"":Number(o),r in e?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},{});this.props.onUpdate(t)},c.prototype.getSelectFieldNames=function(){return["tileType"]},c.prototype.getSanitizedValues=function(){var t=this.props.cell.serialize();return this.getSelectFieldNames().forEach(function(e){void 0===t[e]&&(t[e]="undefined")}),t},c.prototype.renderTileTypes=function(e,t){var n=1<arguments.length&&void 0!==t?t:l;return o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"tileType"},"Tile Type (required):"),o.default.createElement("select",{name:"tileType",value:e.tileType,onChange:this.handleChange},Object.keys(n).map(function(e){return o.default.createElement("option",{key:e,value:n[e]},e.toLowerCase())})))},c.prototype.renderFields=function(e){return o.default.createElement("div",null,this.renderTileTypes(e),o.default.createElement("label",{htmlFor:"value"},"Value:"),o.default.createElement("input",{type:"number",name:"value",value:e.value,onChange:this.handleChange}),o.default.createElement("label",{htmlFor:"range"},"Range (defaults to value):"),o.default.createElement("input",{type:"number",name:"range",value:e.range,disabled:"undefined"===e.featureType,onChange:this.handleChange}))},c.prototype.render=function(){var t=this;return o.default.createElement("form",{className:"span4 offset1",ref:function(e){t.form=e}},o.default.createElement("header",null,o.default.createElement("strong",null,"Editing Cell (",this.props.row,", ",this.props.col,")")),this.renderFields(this.getSanitizedValues()))},c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,s.call(this,e));return t.handleChange=t.handleChange.bind(t),t}u.propTypes={cell:r.default.object.isRequired,row:r.default.number.isRequired,col:r.default.number.isRequired,onUpdate:r.default.func.isRequired},t.default=u,e.exports=t.default},2688:function(e,t,n){"use strict";t.Direction={NORTH:0,EAST:1,SOUTH:2,WEST:3},t.PADDLE_BALL_COLLIDE_DISTANCE=.7,t.FINISH_COLLIDE_DISTANCE=.5,t.DEFAULT_BALL_SPEED=.1,t.DEFAULT_BALL_DIRECTION=1.25*Math.PI,t.DEFAULT_PADDLE_SPEED=.1,t.DEFAULT_BALL_START_Y=2,t.Y_TOP_BOUNDARY=-.2,t.SquareType={OPEN:0,WALL:1,GOAL:2,BALLSTART:4,PADDLEFINISH:8,PADDLESTART:16,BALLFINISH:32,OBSTACLE:64}},2915:function(e,t,n){"use strict";function r(e,t,n,r,o,i){this.tileType_=e,this.speed_=t,this.size_=n,this.direction_=r,this.emotion_=o,this.sprite_=i}(e.exports=r).prototype.getTileType=function(){return this.tileType_},r.prototype.clone=function(){return new r(this.tileType_,this.speed_,this.size_,this.direction_,this.emotion_,this.sprite_)},r.prototype.serialize=function(){return{tileType:this.tileType_,speed:this.speed_,size:this.size_,direction:this.direction_,emotion:this.emotion_,sprite:this.sprite_}},r.deserialize=function(e){return new r(e.tileType,e.speed,e.size,e.direction,e.emotion,e.sprite)}},2920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initHamburger=void 0;var r=i(n(9)),o=i(n(125));function i(e){return e&&e.__esModule?e:{default:e}}t.initHamburger=function(){(0,r.default)(function(){(0,r.default)("#hamburger-icon").click(function(e){(0,r.default)(this).toggleClass("active"),(0,r.default)("#hamburger #hamburger-contents").slideToggle(),e.preventDefault()}),(0,r.default)(document).on("click",function(e){var t=(0,r.default)("#hamburger");t.is(e.target)||0!==t.has(e.target).length||(t.children("#hamburger-contents").slideUp(),(0,r.default)("#hamburger-icon").removeClass("active"));var n=(0,r.default)("#help-button");n.is(e.target)||0!==n.has(e.target).length||(n.children("#help-contents").slideUp(),(0,r.default)("#help-icon").removeClass("active"))}),(0,r.default)(".hamburger-expandable-item").each(function(){(0,r.default)(this).click(function(e){(0,r.default)("#"+(0,r.default)(this).attr("id")+"-items").slideToggle(),(0,r.default)(this).find(".arrow-down").toggle(),(0,r.default)(this).find(".arrow-up").toggle(),e.preventDefault()})}),(0,r.default)("#help-icon").click(function(e){(0,r.default)(this).toggleClass("active"),(0,r.default)("#help-button #help-contents").slideToggle(),e.preventDefault()}),(0,r.default)("#help-icon #report-bug").click(function(){(0,o.default)("help_ui","report-bug","hamburger")}),(0,r.default)("#help-icon #support").click(function(){(0,o.default)("help_ui","support","hamburger")}),(0,r.default)(".footer #support").click(function(){(0,o.default)("help_ui","support","studio_footer")}),(0,r.default)("#pagefooter #support").each(function(){(0,r.default)(this).click(function(){(0,o.default)("help_ui","support","studio_footer")})})})}},2921:function(e,t,n){"use strict";e.exports=function(e){for(var t,n=e.console=e.console||{},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=0;o<r.length;o++)n[t=r[o]]||(n[t]=function(){})}},2922:function(e,t,n){var r,o,i;o=[n(9),n(2923),n(2924)],void 0===(i="function"==typeof(r=function(E,l,e){"use strict";var b=function(e,t){if("string"!=typeof t||t.length){var l="string"==typeof t?new RegExp(t,"i"):t,u=function(e){var t=0;if(3===e.nodeType){var n=e.data.search(l);if(0<=n&&0<e.data.length){var r=e.data.match(l),o=document.createElement("span");o.className="highlight";var i=e.splitText(n),a=(i.splitText(r[0].length),i.cloneNode(!0));o.appendChild(a),i.parentNode.replaceChild(o,i),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var s=0;s<e.childNodes.length;++s)s+=u(e.childNodes[s]);return t};return e.each(function(){u(this)})}};E.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var v=/Mac/.test(navigator.userAgent),T=v?91:17,y=v?18:17,S=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,u=function(e){return void 0!==e},w=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},s=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t={before:function(e,t,n){var r=e[t];e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)}},after:function(t,e,n){var r=t[e];t[e]=function(){var e=r.apply(t,arguments);return n.apply(t,arguments),e}}},n=function(t,n,e){var r,o=t.trigger,i={};for(r in t.trigger=function(){var e=arguments[0];if(-1===n.indexOf(e))return o.apply(t,arguments);i[e]=arguments},e.apply(t,[]),t.trigger=o,i)i.hasOwnProperty(r)&&o.apply(t,i[r])},O=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},_=function(e,t){if(!e)return 0;var n=E("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(e,t,n){var r,o,i={};if(n){for(r=0,o=n.length;r<o;r++){i[n[r]]=e.css(n[r])}}else{i=e.css()}t.css(i)}(t,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=n.width();return n.remove(),r},C=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},c=function(e,t){var n,r,o,i,a=this;(i=e[0]).selectize=a;var s=window.getComputedStyle&&window.getComputedStyle(i,null);if(o=(o=s?s.getPropertyValue("direction"):i.currentStyle&&i.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",E.extend(a,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===i.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++c.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?a.onSearchChange:function(n,r){var o;return function(){var e=this;var t=arguments;window.clearTimeout(o);o=window.setTimeout(function(){n.apply(e,t)},r)}}(a.onSearchChange,t.loadThrottle)}),a.sifter=new l(this.options,{diacritics:t.diacritics}),a.settings.options){for(n=0,r=a.settings.options.length;n<r;n++)a.registerOption(a.settings.options[n]);delete a.settings.options}if(a.settings.optgroups){for(n=0,r=a.settings.optgroups.length;n<r;n++)a.registerOptionGroup(a.settings.optgroups[n]);delete a.settings.optgroups}a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return r.mixin(c),void 0!==e?e.mixin(c):function(e,t){if(!t)t={};var n="Selectize";if(console.error("Selectize: "+e),t.explanation){if(console.group)console.group();console.error(t.explanation);if(console.group)console.groupEnd()}}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),E.extend(c.prototype,{setup:function(){var e,t,n,r,o,i,a,s,l,u,c=this,d=c.settings,p=c.eventNS,f=E(window),h=E(document),g=c.$input;if(a=c.settings.mode,s=g.attr("class")||"",e=E("<div>").addClass(d.wrapperClass).addClass(s).addClass(a),t=E("<div>").addClass(d.inputClass).addClass("items").appendTo(e),n=E('<input type="text" autocomplete="off" />').appendTo(t).attr("tabindex",g.is(":disabled")?"-1":c.tabIndex),i=E(d.dropdownParent||e),r=E("<div>").addClass(d.dropdownClass).addClass(a).hide().appendTo(i),o=E("<div>").addClass(d.dropdownContentClass).appendTo(r),(u=g.attr("id"))&&(n.attr("id",u+"-selectized"),E("label[for='"+u+"']").attr("for",u+"-selectized")),c.settings.copyClassesToDropdown&&r.addClass(s),e.css({width:g[0].style.width}),c.plugins.names.length&&(l="plugin-"+c.plugins.names.join(" plugin-"),e.addClass(l),r.addClass(l)),(null===d.maxItems||1<d.maxItems)&&1===c.tagType&&g.attr("multiple","multiple"),c.settings.placeholder&&n.attr("placeholder",d.placeholder),!c.settings.splitOn&&c.settings.delimiter){var m=c.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");c.settings.splitOn=new RegExp("\\s*"+m+"+\\s*")}g.attr("autocorrect")&&n.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&n.attr("autocapitalize",g.attr("autocapitalize")),c.$wrapper=e,c.$control=t,c.$control_input=n,c.$dropdown=r,c.$dropdown_content=o,r.on("mouseenter","[data-selectable]",function(){return c.onOptionHover.apply(c,arguments)}),r.on("mousedown click","[data-selectable]",function(){return c.onOptionSelect.apply(c,arguments)}),function(n,e,t,r){n.on(e,t,function(e){for(var t=e.target;t&&t.parentNode!==n[0];)t=t.parentNode;return e.currentTarget=t,r.apply(this,[e])})}(t,"mousedown","*:not(input)",function(){return c.onItemSelect.apply(c,arguments)}),function(c){var d=null,e=function(e,t){var n,r,o,i,a,s,l,u;e=e||window.event||{},t=t||{},e.metaKey||e.altKey||!t.force&&!1===c.data("grow")||(n=c.val(),e.type&&"keydown"===e.type.toLowerCase()&&(r=e.keyCode,o=97<=r&&r<=122||65<=r&&r<=90||48<=r&&r<=57||32===r,46===r||8===r?(u=O(c[0])).length?n=n.substring(0,u.start)+n.substring(u.start+u.length):8===r&&u.start?n=n.substring(0,u.start-1)+n.substring(u.start+1):46===r&&void 0!==u.start&&(n=n.substring(0,u.start)+n.substring(u.start+1)):o&&(s=e.shiftKey,l=String.fromCharCode(e.keyCode),l=s?l.toUpperCase():l.toLowerCase(),n+=l)),i=c.attr("placeholder"),!n&&i&&(n=i),(a=_(n,c)+4)!==d&&(d=a,c.width(a),c.triggerHandler("resize")))};c.on("keydown keyup update blur",e),e()}(n),t.on({mousedown:function(){return c.onMouseDown.apply(c,arguments)},click:function(){return c.onClick.apply(c,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return c.onKeyDown.apply(c,arguments)},keyup:function(){return c.onKeyUp.apply(c,arguments)},keypress:function(){return c.onKeyPress.apply(c,arguments)},resize:function(){c.positionDropdown.apply(c,[])},blur:function(){return c.onBlur.apply(c,arguments)},focus:function(){return c.ignoreBlur=!1,c.onFocus.apply(c,arguments)},paste:function(){return c.onPaste.apply(c,arguments)}}),h.on("keydown"+p,function(e){c.isCmdDown=e[v?"metaKey":"ctrlKey"],c.isCtrlDown=e[v?"altKey":"ctrlKey"],c.isShiftDown=e.shiftKey}),h.on("keyup"+p,function(e){e.keyCode===y&&(c.isCtrlDown=!1),16===e.keyCode&&(c.isShiftDown=!1),e.keyCode===T&&(c.isCmdDown=!1)}),h.on("mousedown"+p,function(e){if(c.isFocused){if(e.target===c.$dropdown[0]||e.target.parentNode===c.$dropdown[0])return!1;c.$control.has(e.target).length||e.target===c.$control[0]||c.blur(e.target)}}),f.on(["scroll"+p,"resize"+p].join(" "),function(){c.isOpen&&c.positionDropdown.apply(c,arguments)}),f.on("mousemove"+p,function(){c.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(c.$wrapper),E.isArray(d.items)&&(c.setValue(d.items),delete d.items),S&&g.on("invalid"+p,function(e){e.preventDefault(),c.isInvalid=!0,c.refreshState()}),c.updateOriginalInput(),c.refreshItems(),c.refreshState(),c.updatePlaceholder(),c.isSetup=!0,g.is(":disabled")&&c.disable(),c.on("change",this.onChange),g.data("selectize",c),g.addClass("selectized"),c.trigger("initialize"),!0===d.preload&&c.onSearchChange("")},setupTemplates:function(){var n=this.settings.labelField,r=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[r])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=E.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented();if(E(e.target),t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var o=this;o.isFull()||o.isInputHidden||o.isLocked?e.preventDefault():o.settings.splitOn&&setTimeout(function(){var e=o.$control_input.val();if(e.match(o.settings.splitOn))for(var t=E.trim(e).split(o.settings.splitOn),n=0,r=t.length;n<r;n++)o.createItem(t[n])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(v?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(t){var n=this,r=n.settings.load;r&&(n.loadedSearches.hasOwnProperty(t)||(n.loadedSearches[t]=!0,n.load(function(e){r.apply(n,[t,e])})))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);function r(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.ignoreFocus=!1,n.trigger("blur")}n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(n=E(e.currentTarget)).hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(t=n.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(t),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){n(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var n,r,o,i,a,s,l,u,c=this;if("single"!==c.settings.mode){if(!(e=E(e)).length)return E(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if("mousedown"===(n=t&&t.type.toLowerCase())&&c.isShiftDown&&c.$activeItems.length){for(u=c.$control.children(".active:last"),i=Array.prototype.indexOf.apply(c.$control[0].childNodes,[u[0]]),(a=Array.prototype.indexOf.apply(c.$control[0].childNodes,[e[0]]))<i&&(l=i,i=a,a=l),r=i;r<=a;r++)s=c.$control[0].childNodes[r],-1===c.$activeItems.indexOf(s)&&(E(s).addClass("active"),c.$activeItems.push(s));t.preventDefault()}else"mousedown"===n&&c.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(o=c.$activeItems.indexOf(e[0]),c.$activeItems.splice(o,1),e.removeClass("active")):c.$activeItems.push(e.addClass("active")[0]):(E(c.$activeItems).removeClass("active"),c.$activeItems=[e.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(e,t,n){var r,o,i,a,s,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(e=E(e)).length&&(l.$activeOption=e.addClass("active"),!t&&u(t)||(r=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),t=l.$dropdown_content.scrollTop()||0,s=(a=i=l.$activeOption.offset().top-l.$dropdown_content.offset().top+t)-r+o,r+t<i+o?l.$dropdown_content.stop().animate({scrollTop:s},n?l.settings.scrollDuration:0):i<t&&l.$dropdown_content.stop().animate({scrollTop:a},n?l.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(e){var t,n,r,o=this,i=o.settings,a=this.getSearchOptions();if(i.score&&"function"!=typeof(r=o.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,n=o.sifter.search(e,E.extend(a,{score:r})),o.currentResults=n):n=E.extend(!0,{},o.currentResults),i.hideSelected)for(t=n.items.length-1;0<=t;t--)-1!==o.items.indexOf(w(n.items[t].id))&&n.items.splice(t,1);return n},refreshOptions:function(e){var t,n,r,o,i,a,s,l,u,c,d,p,f,h,g,m;void 0===e&&(e=!0);var v=this,T=E.trim(v.$control_input.val()),y=v.search(T),S=v.$dropdown_content,O=v.$activeOption&&w(v.$activeOption.attr("data-value"));for(o=y.items.length,"number"==typeof v.settings.maxOptions&&(o=Math.min(o,v.settings.maxOptions)),i={},a=[],t=0;t<o;t++)for(s=v.options[y.items[t].id],l=v.render("option",s),u=s[v.settings.optgroupField]||"",n=0,r=(c=E.isArray(u)?u:[u])&&c.length;n<r;n++)u=c[n],v.optgroups.hasOwnProperty(u)||(u=""),i.hasOwnProperty(u)||(i[u]=document.createDocumentFragment(),a.push(u)),i[u].appendChild(l);for(this.settings.lockOptgroupOrder&&a.sort(function(e,t){return(v.optgroups[e].$order||0)-(v.optgroups[t].$order||0)}),d=document.createDocumentFragment(),t=0,o=a.length;t<o;t++)u=a[t],v.optgroups.hasOwnProperty(u)&&i[u].childNodes.length?((p=document.createDocumentFragment()).appendChild(v.render("optgroup_header",v.optgroups[u])),p.appendChild(i[u]),d.appendChild(v.render("optgroup",E.extend({},v.optgroups[u],{html:C(p),dom:p})))):d.appendChild(i[u]);if(S.html(d),v.settings.highlight&&y.query.length&&y.tokens.length)for(S.removeHighlight(),t=0,o=y.tokens.length;t<o;t++)b(S,y.tokens[t].regex);if(!v.settings.hideSelected)for(t=0,o=v.items.length;t<o;t++)v.getOption(v.items[t]).addClass("selected");(f=v.canCreate(T))&&(S.prepend(v.render("option_create",{input:T})),m=E(S[0].childNodes[0])),v.hasOptions=0<y.items.length||f,v.hasOptions?(0<y.items.length?((g=O&&v.getOption(O))&&g.length?h=g:"single"===v.settings.mode&&v.items.length&&(h=v.getOption(v.items[0])),h&&h.length||(h=m&&!v.settings.addPrecedence?v.getAdjacentOption(m,1):S.find("[data-selectable]:first"))):h=m,v.setActiveOption(h),e&&!v.isOpen&&v.open()):(v.setActiveOption(null),e&&v.isOpen&&v.close())},addOption:function(e){var t,n,r,o=this;if(E.isArray(e))for(t=0,n=e.length;t<n;t++)o.addOption(e[t]);else(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(e){var t=w(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=w(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n,r,o,i,a,s,l,u=this;if(e=w(e),o=w(t[u.settings.valueField]),null!==e&&u.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=u.options[e].$order,o!==e&&(delete u.options[e],-1!==(i=u.items.indexOf(e))&&u.items.splice(i,1,o)),t.$order=t.$order||l,u.options[o]=t,a=u.renderCache.item,s=u.renderCache.option,a&&(delete a[e],delete a[o]),s&&(delete s[e],delete s[o]),-1!==u.items.indexOf(o)&&(n=u.getItem(e),r=E(u.render("item",t)),n.hasClass("active")&&r.addClass("active"),n.replaceWith(r)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=w(e);var r=n.renderCache.item,o=n.renderCache.option;r&&delete r[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),r=n.index(e)+t;return 0<=r&&r<n.length?n.eq(r):E()},getElementWithValue:function(e,t){if(null!=(e=w(e)))for(var n=0,r=t.length;n<r;n++)if(t[n].getAttribute("data-value")===e)return E(t[n]);return E()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){for(var n=E.isArray(e)?e:[e],r=0,o=n.length;r<o;r++)this.isPending=r<o-1,this.addItem(n[r],t)},addItem:function(s,l){n(this,l?[]:["change"],function(){var e,t,n,r,o,i=this,a=i.settings.mode;s=w(s),-1===i.items.indexOf(s)?i.options.hasOwnProperty(s)&&("single"===a&&i.clear(l),"multi"===a&&i.isFull()||(e=E(i.render("item",i.options[s])),o=i.isFull(),i.items.splice(i.caretPos,0,s),i.insertAtCaret(e),i.isPending&&(o||!i.isFull())||i.refreshState(),i.isSetup&&(n=i.$dropdown_content.find("[data-selectable]"),i.isPending||(t=i.getOption(s),r=i.getAdjacentOption(t,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==a),r&&i.setActiveOption(i.getOption(r))),!n.length||i.isFull()?i.close():i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",s,e),i.updateOriginalInput({silent:l})))):"single"===a&&i.close()})},removeItem:function(e,t){var n,r,o,i=this;n=e instanceof E?e:i.getItem(e),e=w(n.attr("data-value")),-1!==(r=i.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(o=i.$activeItems.indexOf(n[0]),i.$activeItems.splice(o,1)),i.items.splice(r,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(e)&&i.removeOption(e,t),r<i.caretPos&&i.setCaret(i.caretPos-1),i.refreshState(),i.updatePlaceholder(),i.updateOriginalInput({silent:t}),i.positionDropdown(),i.trigger("item_remove",e,n))},createItem:function(e,n){var r=this,o=r.caretPos;e=e||E.trim(r.$control_input.val()||"");var i=arguments[arguments.length-1];if("function"!=typeof i&&(i=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(e))return i(),!1;r.lock();var t="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},a=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}(function(e){if(r.unlock(),!e||"object"!=typeof e)return i();var t=w(e[r.settings.valueField]);if("string"!=typeof t)return i();r.setTextboxValue(""),r.addOption(e),r.setCaret(o),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),i(e)}),s=t.apply(this,[e,a]);return void 0!==s&&a(s),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!E.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,o,i=this;if(e=e||{},1===i.tagType){for(r=[],t=0,n=i.items.length;t<n;t++)o=i.options[i.items[t]][i.settings.labelField]||"",r.push('<option value="'+s(i.items[t])+'" selected="selected">'+s(o)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),i.$input.html(r.join(""))}else i.$input.val(i.getValue()),i.$input.attr("value",i.$input.val());i.isSetup&&(e.silent||i.trigger("change",i.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length);0===t?this.$control.prepend(e):E(this.$control[0].childNodes[t]).before(e),this.setCaret(t+1)},deleteSelection:function(e){var t,n,r,o,i,a,s,l,u,c=this;if(r=e&&8===e.keyCode?-1:1,o=O(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(s=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),i=[],c.$activeItems.length){for(u=c.$control.children(".active:"+(0<r?"last":"first")),a=c.$control.children(":not(input)").index(u),0<r&&a++,t=0,n=c.$activeItems.length;t<n;t++)i.push(E(c.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(r<0&&0===o.start&&0===o.length?i.push(c.items[c.caretPos-1]):0<r&&o.start===c.$control_input.val().length&&i.push(c.items[c.caretPos]));if(!i.length||"function"==typeof c.settings.onDelete&&!1===c.settings.onDelete.apply(c,[i]))return!1;for(void 0!==a&&c.setCaret(a);i.length;)c.removeItem(i.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),s&&(l=c.getOption(s)).length&&c.setActiveOption(l),!0},advanceSelection:function(e,t){var n,r,o,i,a,s=this;0!==e&&(s.rtl&&(e*=-1),n=0<e?"last":"first",r=O(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(i=s.$control_input.val().length,(e<0?0!==r.start||0!==r.length:r.start!==i)||i||s.advanceCaret(e,t)):(a=s.$control.children(".active:"+n)).length&&(o=s.$control.children(":not(input)").index(a),s.setActiveItem(null),s.setCaret(0<e?o+1:o)))},advanceCaret:function(e,t){var n,r,o=this;0!==e&&(n=0<e?"next":"prev",o.isShiftDown?(r=o.$control_input[n]()).length&&(o.hideInput(),o.setActiveItem(r),t&&t.preventDefault()):o.setCaret(o.caretPos+e))},setCaret:function(e){var t,n,r,o,i=this;if(e="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,e)),!i.isPending)for(t=0,n=(r=i.$control.children(":not(input)")).length;t<n;t++)o=E(r[t]).detach(),t<e?i.$control_input.before(o):i.$control.append(o);i.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),E(window).off(t),E(document).off(t),E(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var n,r,o="",i=!1,a=this;return"option"!==e&&"item"!==e||(i=!!(n=w(t[a.settings.valueField]))),i&&(u(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(o=E(a.settings.render[e].apply(this,[t,s])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&(r=t[a.settings.optgroupValueField]||"",o.attr("data-group",r)),"option"!==e&&"item"!==e||o.attr("data-value",n||""),i&&(a.renderCache[e][n]=o[0]),o[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),c.count=0,c.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},E.fn.selectize=function(o){var i=E.fn.selectize.defaults,d=E.extend({},i,o),p=d.dataAttr,f=d.labelField,h=d.valueField,g=d.optgroupField,m=d.optgroupLabelField,v=d.optgroupValueField;return this.each(function(){if(!this.selectize){var e=E(this),t=this.tagName.toLowerCase(),n=e.attr("placeholder")||e.attr("data-placeholder");n||d.allowEmptyOption||(n=e.children('option[value=""]').text());var r={placeholder:n,options:[],optgroups:[],items:[]};"select"===t?function(e,a){function s(e){var t=p&&e.attr(p);return"string"==typeof t&&t.length?JSON.parse(t):null}function l(e,t){e=E(e);var n=w(e.val());if(n||d.allowEmptyOption)if(c.hasOwnProperty(n)){if(t){var r=c[n][g];r?E.isArray(r)?r.push(t):c[n][g]=[r,t]:c[n][g]=t}}else{var o=s(e)||{};o[f]=o[f]||e.text(),o[h]=o[h]||n,o[g]=o[g]||t,c[n]=o,u.push(o),e.is(":selected")&&a.items.push(n)}}function t(e){var t,n,r,o,i;for((r=(e=E(e)).attr("label"))&&((o=s(e)||{})[m]=r,o[v]=r,a.optgroups.push(o)),t=0,n=(i=E("option",e)).length;t<n;t++)l(i[t],r)}var n,r,o,i,u=a.options,c={};for(a.maxItems=e.attr("multiple")?null:1,n=0,r=(i=e.children()).length;n<r;n++)"optgroup"===(o=i[n].tagName.toLowerCase())?t(i[n]):"option"===o&&l(i[n])}(e,r):function(e,t){var n,r,o,i,a=e.attr(p);if(a)for(t.options=JSON.parse(a),n=0,r=t.options.length;n<r;n++)t.items.push(t.options[n][h]);else{var s=E.trim(e.val()||"");if(!d.allowEmptyOption&&!s.length)return;for(n=0,r=(o=s.split(d.delimiter)).length;n<r;n++)(i={})[f]=o[n],i[h]=o[n],t.options.push(i);t.items=o}}(e,r),new c(e,E.extend(!0,{},i,r,o))}})},E.fn.selectize.defaults=c.defaults,E.fn.selectize.support={validity:S},c.define("drag_drop",function(e){if(!E.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t,n,r,o=this;o.lock=(t=o.lock,function(){var e=o.$control.data("sortable");return e&&e.disable(),t.apply(o,arguments)}),o.unlock=(n=o.unlock,function(){var e=o.$control.data("sortable");return e&&e.enable(),n.apply(o,arguments)}),o.setup=(r=o.setup,function(){r.apply(this,arguments);var n=o.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:o.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=o.$activeItems?o.$activeItems.slice():null,t=[];n.children("[data-value]").each(function(){t.push(E(this).attr("data-value"))}),o.setValue(t),o.setActiveItem(e)}})})}}),c.define("dropdown_header",function(e){var t,n=this;e=E.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$dropdown_header=E(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})}),c.define("optgroup_columns",function(s){var i,l=this;function e(){var e,t,n,r,o,i,a;if((t=(a=E("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(s.equalizeHeight){for(e=n=0;e<t;e++)n=Math.max(n,a.eq(e).height());a.css({height:n})}s.equalizeWidth&&(i=l.$dropdown_content.innerWidth()-u(),r=Math.round(i/t),a.css({width:r}),1<t&&(o=i-r*(t-1),a.eq(t-1).css({width:o})))}}s=E.extend({equalizeWidth:!0,equalizeHeight:!0},s),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),r=n.index(e)+t;return 0<=r&&r<n.length?n.eq(r):E()},this.onKeyDown=(i=l.onKeyDown,function(e){var t,n,r,o;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?i.apply(this,arguments):(l.ignoreHover=!0,t=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((n=(r=(o=37===e.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(r.length-1,t))).length&&this.setActiveOption(n)))});var u=function(){var e,t=u.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=u.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t};(s.equalizeHeight||s.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),c.define("remove_button",function(e){var n,r,o,i,a;e=E.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"!==this.settings.mode?(i=n=this,a='<a href="javascript:void(0)" class="'+(r=e).className+'" tabindex="-1" title="'+s(r.title)+'">'+r.label+"</a>",n.setup=(o=i.setup,function(){if(r.append){var t=i.settings.render.item;i.settings.render.item=function(e){return function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)}(t.apply(n,arguments),a)}}o.apply(n,arguments),n.$control.on("click","."+r.className,function(e){if(e.preventDefault(),!i.isLocked){var t=E(e.currentTarget).parent();i.setActiveItem(t),i.deleteSelection()&&i.setCaret(i.items.length)}})})):function(n,r){r.className="remove-single";var o,i=n,a='<a href="javascript:void(0)" class="'+r.className+'" tabindex="-1" title="'+s(r.title)+'">'+r.label+"</a>";n.setup=(o=i.setup,function(){if(r.append){var e=E(i.$input.context).attr("id"),t=(E("#"+e),i.settings.render.item);i.settings.render.item=function(e){return function(e,t){return e+t}(t.apply(n,arguments),a)}}o.apply(n,arguments),n.$control.on("click","."+r.className,function(e){e.preventDefault(),i.isLocked||i.clear()})})}(this,e)}),c.define("restore_on_backspace",function(r){var o,e=this;r.text=r.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(o=e.onKeyDown,function(e){var t,n;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(n=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(r.text.apply(this,[n])),this.refreshOptions(!0)),void e.preventDefault()):o.apply(this,arguments)})}),c})?r.apply(t,o):r)||(e.exports=i)},2923:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=s(String(e||"").toLowerCase()))||!e.length)return[];var t,n,r,o,i=[],a=e.split(/ +/);for(t=0,n=a.length;t<n;t++){if(r=l(a[t]),this.settings.diacritics)for(o in u)u.hasOwnProperty(o)&&(r=r.replace(new RegExp(o,"g"),u[o]));i.push({string:a[t],regex:new RegExp(r,"i")})}return i},e.prototype.iterator=function(e,t){(a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,o,a,s;e=this.prepareSearch(e,t),o=e.tokens,i=e.options.fields,a=o.length,s=e.options.nesting;var l=function(e,t){var n,r;return e?(e=String(e||""),-1===(r=e.search(t.regex))?0:(n=t.string.length/e.length,0===r&&(n+=.5),n)):0},u=function(){var o=i.length;return o?1===o?function(e,t){return l(h(t,i[0],s),e)}:function(e,t){for(var n=0,r=0;n<o;n++)r+=l(h(t,i[n],s),e);return r/o}:function(){return 0}}();return a?1===a?function(e){return u(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;n<a;n++){if((t=u(o[n],e))<=0)return 0;r+=t}return r/a}:function(e){for(var t=0,n=0;t<a;t++)n+=u(o[t],e);return n/a}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var t,r,o,i,a,s,l,u,c,d,p;if(e=(o=this).prepareSearch(e,n),p=!e.query&&n.sort_empty||n.sort,c=function(e,t){return"$score"===e?t.score:h(o.items[t.id],e,n.nesting)},a=[],p)for(t=0,r=p.length;t<r;t++)!e.query&&"$score"===p[t].field||a.push(p[t]);if(e.query){for(d=!0,t=0,r=a.length;t<r;t++)if("$score"===a[t].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(t=0,r=a.length;t<r;t++)if("$score"===a[t].field){a.splice(t,1);break}for(u=[],t=0,r=a.length;t<r;t++)u.push("desc"===a[t].direction?-1:1);return(s=a.length)?1===s?(i=a[0].field,l=u[0],function(e,t){return l*f(c(i,e),c(i,t))}):function(e,t){var n,r,o;for(n=0;n<s;n++)if(o=a[n].field,r=u[n]*f(c(o,e),c(o,t)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=i({},t)).fields,r=t.sort,o=t.sort_empty;return n&&!a(n)&&(t.fields=[n]),r&&!a(r)&&(t.sort=[r]),o&&!a(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,n){var r,o,t,i,a=this;return o=this.prepareSearch(e,n),n=o.options,e=o.query,i=n.score||a.getScoreFunction(o),e.length?a.iterator(a.items,function(e,t){r=i(e),(!1===n.filter||0<r)&&o.items.push({score:r,id:t})}):a.iterator(a.items,function(e,t){o.items.push({score:1,id:t})}),(t=a.getSortFunction(o,n))&&o.items.sort(t),o.total=o.items.length,"number"==typeof n.limit&&(o.items=o.items.slice(0,n.limit)),o};var f=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=n(String(e||"")),(t=n(String(t||"")))<e?1:e<t?-1:0)},i=function(e,t){var n,r,o,i;for(n=1,r=arguments.length;n<r;n++)if(i=arguments[n])for(o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);return e},h=function(e,t,n){if(e&&t){if(!n)return e[t];for(var r=t.split(".");r.length&&(e=e[r.shift()]););return e}},s=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},n=function(){var e,t,n,r,o="",i={};for(n in u)if(u.hasOwnProperty(n))for(r=u[n].substring(2,u[n].length-1),o+=r,e=0,t=r.length;e<t;e++)i[r.charAt(e)]=n;var a=new RegExp("["+o+"]","g");return function(e){return e.replace(a,function(e){return i[e]}).toLowerCase()}}();return e})?r.call(t,n,t,e):r)||(e.exports=o)},2924:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e={mixin:function(r){r.plugins={},r.prototype.initializePlugins=function(e){var t,n,r,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},i.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?o.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,o.push(e[t].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(this.plugins.settings[r]=e[r],o.push(r));for(;o.length;)this.require(o.shift())},r.prototype.loadPlugin=function(e){var t=this.plugins,n=r.plugins[e];if(!r.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=n.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},r.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},r.define=function(e,t){r.plugins[e]={name:e,fn:t}}}},i={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?r.call(t,n,t,e):r)||(e.exports=o)},2925:function(e,t,n){"use strict";var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a=i.default.arrayOf(i.default.shape({id:i.default.number,name:i.default.string}));e.exports.studentsShape=a},3322:function(e,t,n){"use strict";var r=m(n(9)),o=m(n(1)),i=m(n(7)),a=n(579),s=n(758),l=m(n(2983)),u=m(n(2078)),c=m(n(2919)),d=m(n(3324)),p=m(n(401)),f=n(3325),h=n(2920),g=n(498);function m(e){return e&&e.__esModule?e:{default:e}}(0,a.getStore)().dispatch((0,s.setRtlFromDOM)()),n(2921)(window);var v=n(365),T=n(3326);window.React=n(1),window.ReactDOM=n(7),window.Radium=n(12),n(1502),n(3327),n(1544),n(1754),n(3328),n(3337),n(2922),r.default.fn.modal&&(r.default.fn.modal.Constructor.prototype.enforceFocus=function(){}),window.dashboard=window.dashboard||{},window.dashboard.clientState=n(375),window.dashboard.createCallouts=n(973).default,window.dashboard.hashEmail=c.default,window.dashboard.levelCompletions=n(3338),window.dashboard.popupWindow=n(1881),window.dashboard.reporting=n(1743),window.dashboard.header=n(913),window.dashboard.videos=n(1616),window.dashboard.assets=n(1612),window.dashboard.pairing=n(3339),window.dashboard.project=n(120),window.dashboard.codeStudioLevels={registerGetResult:g.registerGetResult,registerLevel:g.registerLevel,onAnswerChanged:g.onAnswerChanged},window.Dialog=n(722),window.FreeResponse=n(3344),window.Multi=n(2702),window.TextMatch=n(2926);var y=window.onerror;window.onerror=function(e,t,n){if(/^Script error/.test(e)&&t&&(arguments[0]="Script Error: "+t),y)return y.apply(this,arguments)};(0,r.default)(document).keydown(function(e){27===e.keyCode&&(e.stopPropagation(),e.preventDefault())}),setTimeout(function(){(0,r.default)("#codeApp .slow_load").show()},1e4),(0,r.default)(document).ready(function(){if(document.querySelector("script[data-gdpr]")){var e=(0,p.default)("gdpr");e.show_gdpr_dialog&&e.current_user_id&&i.default.render(o.default.createElement(d.default,{isDialogOpen:e.show_gdpr_dialog,currentUserId:e.current_user_id}),document.getElementById("gdpr-dialog"))}}),T(),window.CDOSounds=v.getSingleton();var S=document.querySelector("script[data-usertype]")?(0,p.default)("usertype"):null;(0,f.checkForUnsupportedBrowsersOnLoad)(),(0,h.initHamburger)(),(0,l.default)(S),(0,u.default)()},3324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),o=n(1),i=d(o),a=d(n(30)),s=d(n(5)),l=d(n(70)),u=d(n(340)),c=n(284);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f,h={dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20},instructions:{marginTop:20}},g=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,f=o.Component),m.prototype.render=function(){var e=this.props.studioUrlPrefix,t=e?e+"/users/sign_out":"/users/sign_out";return i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:this.state.isDialogOpen,style:h.dialog,uncloseable:!0},i.default.createElement("h2",{className:"ui-test-gdpr-dialog"},s.default.gdprDialogHeader()),i.default.createElement("div",null,s.default.gdprDialogDetails()),i.default.createElement("div",{style:h.instructions},i.default.createElement("a",{href:(0,c.pegasus)("/privacy"),className:"ui-test-gdpr-dialog-privacy-link",target:"_blank"},s.default.gdprDialogSeePrivacyPolicy(),".")),i.default.createElement(u.default,null,i.default.createElement(a.default,{text:s.default.gdprDialogLogout(),href:t,color:a.default.ButtonColor.gray,className:"ui-test-gdpr-dialog-logout"}),i.default.createElement(a.default,{text:s.default.gdprDialogYes(),onClick:this.handleYesClick,color:a.default.ButtonColor.orange,className:"ui-test-gdpr-dialog-accept"})))},m);function m(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=p(this,f.call.apply(f,[this].concat(r)))).state={isDialogOpen:t.props.isDialogOpen},t.handleYesClick=function(){t.setState({isDialogOpen:!1}),$.post("/dashboardapi/v1/users/accept_data_transfer_agreement",{user_id:t.props.currentUserId})},p(t,e)}g.propTypes={isDialogOpen:r.default.bool.isRequired,currentUserId:r.default.number.isRequired,studioUrlPrefix:r.default.string},t.default=g,e.exports=t.default},3325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkForUnsupportedBrowsersOnLoad=void 0;var r,o=n(1621),i=n(9),a=(r=i)&&r.__esModule?r:{default:r};t.checkForUnsupportedBrowsersOnLoad=function(){(0,a.default)(document).ready(function(){var e=null;(0,o.isUnsupportedBrowser)()?e="#unsupported-browser":"undefined"!=typeof appOptions&&((0,o.isMobileDevice)()?"applab"===appOptions.app?e="#applab-unsupported-tablet":"gamelab"===appOptions.app&&(e="#gamelab-unsupported-tablet"):(0,o.isIE11)()&&"weblab"===appOptions.app?e="#weblab-unsupported-browser":"weblab"!==appOptions.app||(0,o.isStorageAvailable)("localStorage")||(e="#weblab-unsupported-local-storage")),e&&((0,a.default)(e).show(),(0,a.default)("#warning-icon").show(),(0,a.default)("#dismiss-icon").show(),(0,a.default)("#warning-banner").show())})}},3326:function(e,t,n){"use strict";var r,o=n(9),i=(r=o)&&r.__esModule?r:{default:r};var a=n(1616).showVideoDialog;e.exports=function(){(0,i.default)(window).load(function(){0!==(0,i.default)("#reference_area").length&&((0,i.default)(".video_link").each(function(){!function(e,t){function n(e){t(e),e.preventDefault()}e.on({touchstart:n,click:n})}((0,i.default)(this),i.default.proxy(function(){a({src:(0,i.default)(this).attr("data-src"),name:(0,i.default)(this).attr("data-name"),key:(0,i.default)(this).attr("data-key"),download:(0,i.default)(this).attr("data-download"),thumbnail:(0,i.default)(this).attr("data-thumbnail"),enable_fallback:!0,autoplay:!0},!0)},this))}),(0,i.default)("#reference_area_target").append((0,i.default)("#reference_area")),(0,i.default)("#reference_area_target").data("minimal")&&(0,i.default)("#reference_area .video_thumbnail").hide())})}},3327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelIdFromUrl=void 0;var r=c(n(239)),o=c(n(16)),i=c(n(0)),a=c(n(1)),s=c(n(7)),l=c(n(1729)),u=c(n(116));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p,f=window.alert,h=t.getChannelIdFromUrl=function(e){var t=void 0;return(t=0<=e.indexOf("codeprojects")?/.*codeprojects.*[^\/]+\/([^\/]+)/.exec(e):/.*\/projects\/[^\/]+\/([^\/]+)/.exec(e))&&t[1]},g=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,p=a.default.Component),m.prototype.getChannelId=function(){var e=this.props.abuseUrl;return h(e)},m.prototype.writeCookie=function(){if(r.default.get("reported_abuse")){var e=JSON.parse(r.default.get("reported_abuse"));e.push(this.getChannelId()),r.default.set("reported_abuse",o.default.uniq(e))}else r.default.set("reported_abuse",[this.getChannelId()])},m.prototype.render=function(){var e=this.props.i18n;return a.default.createElement("div",{style:{width:514}},a.default.createElement("h2",null,e.t("footer.report_abuse")),a.default.createElement("p",null,e.t("project.abuse.report_abuse_form.intro")),a.default.createElement("br",null),a.default.createElement("form",{action:"/report_abuse",method:"post"},a.default.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.csrfToken}),a.default.createElement("input",{type:"hidden",name:"channel_id",value:this.getChannelId()}),a.default.createElement("input",{type:"hidden",name:"name",value:this.props.name}),a.default.createElement("div",{style:{display:this.props.email?"none":"block"}},a.default.createElement("div",null,e.t("activerecord.attributes.user.email")),a.default.createElement("input",{type:"text",style:{width:500},defaultValue:this.props.email,name:"email",ref:"email",id:"uitest-email"})),a.default.createElement("div",{style:{display:this.props.age?"none":"block"}},a.default.createElement("div",null,e.t("activerecord.attributes.user.age")),a.default.createElement(l.default,{style:{width:514},ref:"age",age:this.props.age})),a.default.createElement("div",null,e.t("project.abuse.report_abuse_form.abusive_url")),a.default.createElement("input",{type:"text",readOnly:!!this.props.abuseUrl,style:{width:500},defaultValue:this.props.abuseUrl,name:"abuse_url"}),a.default.createElement("div",null,a.default.createElement(u.default,{markdown:e.t("project.abuse.report_abuse_form.abuse_type.question",{link_start:'<a href="https://code.org/tos" target="_blank">',link_end:"</a>"})})),a.default.createElement("select",{style:{width:514},name:"abuse_type",ref:"abuse_type",id:"uitest-abuse-type"},a.default.createElement("option",{value:""}),a.default.createElement("option",{value:"harassment"},e.t("project.abuse.report_abuse_form.abuse_type.harassment")),a.default.createElement("option",{value:"offensive"},e.t("project.abuse.report_abuse_form.abuse_type.offensive")),a.default.createElement("option",{value:"infringement"},e.t("project.abuse.report_abuse_form.abuse_type.infringement")),a.default.createElement("option",{value:"other"},e.t("project.abuse.report_abuse_form.abuse_type.other"))),a.default.createElement("div",null,e.t("project.abuse.report_abuse_form.detail")),a.default.createElement("textarea",{style:{width:500,height:100},name:"abuse_detail",ref:"abuse_detail",id:"uitest-abuse-detail"}),a.default.createElement("div",null,a.default.createElement(u.default,{markdown:e.t("project.abuse.report_abuse_form.acknowledge",{link_start_privacy:'<a href="https://code.org/privacy" target="_blank">',link_start_tos:'<a href="https://code.org/tos" target="_blank">',link_end:"</a>"})})),a.default.createElement("button",{type:"submit",onClick:this.handleSubmit,id:"uitest-submit-report-abuse"},e.t("submit"))))},m);function m(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n=d(this,p.call.apply(p,[this].concat(r)))).handleSubmit=function(e){var t=n.props.i18n;return""===n.refs.email.value?(f(t.t("project.abuse.report_abuse_form.validation.email")),void e.preventDefault()):""===s.default.findDOMNode(n.refs.age).value?(f(t.t("project.abuse.report_abuse_form.validation.age")),void e.preventDefault()):""===n.refs.abuse_type.value?(f(t.t("project.abuse.report_abuse_form.validation.abuse_type")),void e.preventDefault()):""===n.refs.abuse_detail.value?(f(t.t("project.abuse.report_abuse_form.validation.abuse_detail")),void e.preventDefault()):void n.writeCookie()},d(n,e)}g.propTypes={i18n:i.default.object.isRequired,csrfToken:i.default.string.isRequired,abuseUrl:i.default.string.isRequired,name:i.default.string,email:i.default.string,age:i.default.oneOfType([i.default.string,i.default.number])},t.default=g,window.dashboard=window.dashboard||{},window.dashboard.ReportAbuseForm=g},3328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),l=i(n(1)),o=n(1299);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c,d=n(2915),p=n(3329),f=n(3330),h=n(3331),g=n(2079),m=n(3332),v=n(3333),T=n(3335),y=n(3336),S=(u(O,c=l.default.Component),O.prototype.componentDidUpdate=function(){var e=this.refs.serializedInput;e.focus(),e.select()},O.prototype.render=function(){return l.default.createElement("label",null,"Cell JSON (for copy/pasting):",l.default.createElement("input",{type:"text",value:JSON.stringify(this.props.serialization),ref:"serializedInput",onChange:this.handleChange}))},O);function O(){var e,t;a(this,O);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=s(this,c.call.apply(c,[this].concat(r)))).handleChange=function(e){t.props.onChange(JSON.parse(e.target.value))},s(t,e)}S.propTypes={serialization:r.default.object.isRequired,onChange:r.default.func.isRequired};var E,b=(u(w,E=l.default.Component),w.prototype.getCellClass=function(){return"playlab"===this.props.skin||"starwarsgrid"===this.props.skin?d:o.utils.isBeeSkin(this.props.skin)?o.cells.BeeCell:o.utils.isHarvesterSkin(this.props.skin)?o.cells.HarvesterCell:o.utils.isPlanterSkin(this.props.skin)?o.cells.PlanterCell:o.cells.Cell},w.prototype.getEditorClass=function(){return"bounce"===this.props.skin?T:"playlab"===this.props.skin?m:"starwarsgrid"===this.props.skin?v:o.utils.isBeeSkin(this.props.skin)?h:o.utils.isHarvesterSkin(this.props.skin)?p:o.utils.isPlanterSkin(this.props.skin)?f:g},w.prototype.updateCells=function(r,o,e){var i=this;if(void 0!==e&&void 0!==r&&void 0!==o){var a=this.state.cells;e.forEach(function(e,n){e.forEach(function(e,t){a[r+n]&&a[r+n][o+t]&&(a[r+n][o+t]=i.getCellClass().deserialize(e))})});var t=a.map(function(e){return e.map(function(e){return e.serialize()})});this.props.onUpdate(t),this.setState({cells:a})}},w.prototype.render=function(){var e=this.state.cells,t=void 0,n=void 0,r=void 0,o=this.state.selectedRow,i=this.state.selectedCol;if(e[o]&&e[o][i]){var a=e[o][i],s=this.getEditorClass();t=l.default.createElement(s,{cell:a,row:o,col:i,onUpdate:this.handleCellChange}),n=l.default.createElement(S,{serialization:a.serialize(),onChange:this.handleCellChange}),this.state.copiedCells&&(r=l.default.createElement("button",{type:"button",onClick:this.pasteCopiedCells},"Paste Selected "+this.state.copiedCells.length+"x"+this.state.copiedCells[0].length+" Cells"))}return l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"span5"},l.default.createElement(y,{cells:e,selectedRow:this.state.selectedRow,selectedCol:this.state.selectedCol,skin:this.props.skin,setCopiedCells:this.setCopiedCells,onSelectionChange:this.changeSelection}),n,r),t)},w);function w(o){a(this,w);var e=s(this,E.call(this,o));_.call(e);var t=void 0,i=e.getCellClass();return t=o.serializedMaze?o.serializedMaze.map(function(e){return e.map(i.deserialize)}):o.maze.map(function(e,r){return e.map(function(e,t){var n=o.initialDirt[r][t];return i.parseFromOldValues(e,n)})}),e.state={cells:t},e}b.propTypes={serializedMaze:r.default.arrayOf(r.default.arrayOf(r.default.object)),maze:r.default.arrayOf(r.default.array),initialDirt:r.default.arrayOf(r.default.arrayOf(r.default.number)),skin:r.default.string.isRequired,onUpdate:r.default.func.isRequired};var _=function(){var r=this;this.changeSelection=function(e,t){r.setState({selectedRow:e,selectedCol:t})},this.handleCellChange=function(e){var t=r.state.selectedRow,n=r.state.selectedCol;r.updateCells(t,n,[[e]])},this.pasteCopiedCells=function(){var e=r.state.copiedCells,t=r.state.selectedRow,n=r.state.selectedCol;r.updateCells(t,n,e)},this.setCopiedCells=function(e){r.setState({copiedCells:e})}};t.default=b,window.dashboard=window.dashboard||{},window.dashboard.GridEditor=b,e.exports=t.default},3329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(2079));function i(e){return e&&e.__esModule?e:{default:e}}var a,s=n(1299).cells.HarvesterCell,l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,a=o.default),u.prototype.renderFields=function(n){return r.default.createElement("div",null,a.prototype.renderFields.call(this,n),r.default.createElement("label",{htmlFor:"possibleFeatures"},"Possible Features:"),Object.keys(s.FeatureType).map(function(e){var t=s.FeatureType[e];return r.default.createElement("label",{className:"checkbox",key:e},r.default.createElement("input",{type:"checkbox",name:"possibleFeatures",value:t,checked:n.possibleFeatures.includes(t),onChange:this.handleChange}),e)},this),r.default.createElement("label",{htmlFor:"startsHidden"},"Starts Hidden:"),r.default.createElement("input",{style:{margin:0},type:"checkbox",name:"startsHidden",checked:n.startsHidden,value:1,onChange:this.handleChange}))},u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.apply(this,arguments))}t.default=l,e.exports=t.default},3330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),o=a(n(2079)),i=n(1299);function a(e){return e&&e.__esModule?e:{default:e}}var s,l=i.cells.PlanterCell,u=i.tiles.SquareType,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s=o.default),d.prototype.getSelectFieldNames=function(){return["tileType","featureType"]},d.prototype.renderFields=function(e){return r.default.createElement("div",null,this.renderTileTypes(e),r.default.createElement("label",{htmlFor:"featureType"},"Feature Type:"),r.default.createElement("select",{name:"featureType",value:e.featureType,disabled:this.props.cell.getTile()!==u.OPEN,onChange:this.handleChange},Object.keys(l.FeatureType).map(function(e){return r.default.createElement("option",{key:e,value:l.FeatureType[e]},e.toLowerCase())})))},d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,s.apply(this,arguments))}t.default=c,e.exports=t.default},3331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(2079));function i(e){return e&&e.__esModule?e:{default:e}}var a,s=n(1299).cells.BeeCell,l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,a=o.default),u.prototype.getSelectFieldNames=function(){return a.prototype.getSelectFieldNames.call(this).concat(["featureType","cloudType","flowerColor"])},u.prototype.getSanitizedValues=function(){var e=a.prototype.getSanitizedValues.call(this);return this.props.cell.isVariableCloud()&&(e.featureType=s.FeatureType.VARIABLE),"undefined"===e.featureType&&(e.value="",e.range=""),this.props.cell.isFlower()||(e.flowerColor=""),e},u.prototype.renderFields=function(e){return r.default.createElement("div",null,a.prototype.renderFields.call(this,e),r.default.createElement("label",{htmlFor:"featureType"},"Feature Type:"),r.default.createElement("select",{name:"featureType",value:e.featureType,disabled:this.props.cell.isVariableCloud(),onChange:this.handleChange},r.default.createElement("option",{value:"undefined"},"none"),r.default.createElement("option",{value:s.FeatureType.HIVE},"hive"),r.default.createElement("option",{value:s.FeatureType.FLOWER},"flower"),r.default.createElement("option",{value:s.FeatureType.VARIABLE},"variable")),r.default.createElement("label",{htmlFor:"cloudType"},"Cloud Type:"),r.default.createElement("select",{name:"cloudType",value:e.cloudType,onChange:this.handleChange},r.default.createElement("option",{value:"undefined"},"none"),r.default.createElement("option",{value:s.CloudType.STATIC},"classic"),r.default.createElement("option",{value:s.CloudType.HIVE_OR_FLOWER},"hive or flower"),r.default.createElement("option",{value:s.CloudType.FLOWER_OR_NOTHING},"flower or nothing"),r.default.createElement("option",{value:s.CloudType.HIVE_OR_NOTHING},"hive or nothing"),r.default.createElement("option",{value:s.CloudType.ANY},"any")),r.default.createElement("label",{htmlFor:"flowerColor"},"Flower Color:"),r.default.createElement("select",{name:"flowerColor",value:e.flowerColor,disabled:!this.props.cell.isFlower(),onChange:this.handleChange},r.default.createElement("option",{value:"undefined"},"default"),r.default.createElement("option",{value:s.FlowerColor.RED},"red"),r.default.createElement("option",{value:s.FlowerColor.PURPLE},"purple")))},u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.apply(this,arguments))}t.default=l,e.exports=t.default},3332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1273),o=a(n(1)),i=a(n(2079));function a(e){return e&&e.__esModule?e:{default:e}}var s,l=["dog","cat","penguin","dinosaur","octopus","witch","bat","bird","dragon","squirrel","wizard","alien","ghost","monster","robot","unicorn","zombie","knight","ninja","pirate","caveboy","cavegirl","princess","spacebot","soccergirl","soccerboy","tennisgirl","tennisboy"],u={OPEN:r.SquareType.OPEN,GOAL:r.SquareType.SPRITEFINISH,START:r.SquareType.SPRITESTART},c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s=i.default),d.prototype.getSelectFieldNames=function(){return s.prototype.getSelectFieldNames.call(this).concat(["speed","size","direction","emotion","sprite"])},d.prototype.renderFields=function(e){return o.default.createElement("div",null,s.prototype.renderTileTypes.call(this,e,u),e.tileType===r.SquareType.SPRITESTART&&o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"sprite"},"Sprite:"),o.default.createElement("select",{name:"sprite",value:e.sprite,onChange:this.handleChange},o.default.createElement("option",{value:"undefined"},"default"),l.map(function(e,t){return o.default.createElement("option",{key:e,value:t},e)})),o.default.createElement("label",{htmlFor:"speed"},"Speed: "),o.default.createElement("select",{name:"speed",value:e.speed,onChange:this.handleChange},o.default.createElement("option",{value:"undefined"},"default"),Object.keys(r.SpriteSpeed).map(function(e){return o.default.createElement("option",{key:e,value:r.SpriteSpeed[e]},e.replace(/_/g," ").toLowerCase())})),o.default.createElement("label",{htmlFor:"size"},"Size: "),o.default.createElement("select",{name:"size",value:e.size,onChange:this.handleChange},o.default.createElement("option",{value:"undefined"},"default"),Object.keys(r.SpriteSize).map(function(e){return o.default.createElement("option",{key:e,value:r.SpriteSize[e]},e.replace(/_/g," ").toLowerCase())})),o.default.createElement("label",{htmlFor:"direction"},"Direction: "),o.default.createElement("select",{name:"direction",value:e.direction,onChange:this.handleChange},o.default.createElement("option",{value:"undefined"},"default"),Object.keys(r.Direction).map(function(e){return o.default.createElement("option",{key:e,value:r.Direction[e]},e.replace(/_/g," ").toLowerCase())})),o.default.createElement("label",{htmlFor:"emotion"},"Emotion: "),o.default.createElement("select",{name:"emotion",value:e.emotion,onChange:this.handleChange},o.default.createElement("option",{value:"undefined"},"default"),Object.keys(r.Emotions).map(function(e){return o.default.createElement("option",{key:e,value:r.Emotions[e]},e.replace(/_/g," ").toLowerCase())}))))},d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,s.apply(this,arguments))}t.default=c,e.exports=t.default},3333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=l(n(1)),r=n(1273),a=l(n(3334)),s=l(n(2079));function l(e){return e&&e.__esModule?e:{default:e}}var u,c={empty:0,start:16,goal:1,crate_1:65536,crate_2:1048576,crate_3:131072,canister:1179648,covered_crates_1a:262144,covered_crates_1b:1310720,covered_crates_2a:2359296,covered_crates_2b:2424832,covered_crates_3a:3407872,covered_crates_3b:3473408},d={"-":r.Direction.NONE,East:r.Direction.EAST,West:r.Direction.WEST,North:r.Direction.NORTH,South:r.Direction.SOUTH},p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u=s.default),f.prototype.handleChange=function(){var e=this.zoom&&this.zoom.checked,t=this.direction?+this.direction.value:void 0;this.props.onUpdate({tileType:e<<r.WallTypeShift|this.type.value,direction:t})},f.prototype.render=function(){var t=this,e=~r.WallTypeMask&this.props.cell.tileType_,n=r.WallTypeMask&this.props.cell.tileType_;return i.default.createElement("form",{className:"span4 offset1"},i.default.createElement("img",{src:a.default}),i.default.createElement("header",null,i.default.createElement("strong",null,"Editing Cell (",this.props.row,", ",this.props.col,")")),i.default.createElement("label",{htmlFor:"tileType"},"Tile Type (required):"),i.default.createElement("select",{ref:function(e){t.type=e},name:"tileType",value:e,onChange:this.handleChange},Object.entries(c).map(function(e){var t=o(e,2),n=t[0],r=t[1];return i.default.createElement("option",{value:r,key:r},n)})),65535<e&&i.default.createElement("span",null,i.default.createElement("label",{htmlFor:"zoom"},"Double size:"),i.default.createElement("input",{ref:function(e){t.zoom=e},name:"zoom",type:"checkbox",checked:n,onChange:this.handleChange})),e===r.SquareType.SPRITESTART&&i.default.createElement("span",null,i.default.createElement("label",{htmlFor:"direction"},"Start direction:"),i.default.createElement("select",{ref:function(e){t.direction=e},name:"direction",value:this.props.cell.direction_,onChange:this.handleChange},Object.entries(d).map(function(e){var t=o(e,2),n=t[0],r=t[1];return i.default.createElement("option",{value:r,key:r},n)}))))},f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.apply(this,arguments))}t.default=p,e.exports=t.default},3334:function(e,t,n){e.exports=n.p+"tile-guidewp3ebdf2cbc512efb380c5833cfc56b739.png"},3335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),o=a(n(2079)),i=n(2688);function a(e){return e&&e.__esModule?e:{default:e}}var s,l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,s=o.default),u.prototype.renderFields=function(e){return r.default.createElement("div",null,s.prototype.renderTileTypes.call(this,e,i.SquareType))},u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,s.apply(this,arguments))}t.default=l,e.exports=t.default},3336:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),u=i(n(1)),c=n(1273),d=n(1299);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f,h=(p(r={},c.SquareType.OPEN,"none"),p(r,c.SquareType.SPRITEFINISH,"goal"),p(r,c.SquareType.SPRITESTART,"sprite"),r),g=["dog","cat","penguin","dinosaur","octopus","witch","bat","bird","dragon","squirrel","wizard","alien","ghost","monster","robot","unicorn","zombie","knight","ninja","pirate","caveboy","cavegirl","princess","spacebot","soccergirl","soccerboy","tennisgirl","tennisboy"],m=["border","path","start","end","obstacle"],v=["","flower-or-hive","flower-or-nothing","hive-or-nothing","flower-hive-or-nothing"],T=["hive","flower"],y=(l(S,f=u.default.Component),S.prototype.render=function(){var e=this.props.cell,t=[],n={},r=void 0;if(this.props.selected&&t.push("selected"),this.props.highlighted&&t.push("highlighted"),"playlab"===this.props.skin)t.push("playlab",h[e.getTileType()]),e.getTileType()===c.SquareType.SPRITESTART&&void 0!==e.sprite_&&(n.backgroundImage="url('/blockly/media/skins/studio/"+g[e.sprite_]+"_spritesheet_200px.png')");else if("starwarsgrid"===this.props.skin)if(1===e.tileType_)n.backgroundImage="url('/blockly/media/skins/hoc2015x/goal.png')";else if(16===e.tileType_)n.backgroundImage="url('/blockly/media/skins/hoc2015x/instructions_bb8.png')",n.backgroundSize="cover";else{r=c.WallTypeMask&e.tileType_?"2x":"";var o=(c.WallCoordColMask&e.tileType_)>>c.WallCoordColShift,i=(c.WallCoordRowMask&e.tileType_)>>c.WallCoordRowShift;n.backgroundImage="url('/blockly/media/skins/hoc2015x/tiles_background1.png')",n.backgroundSize="800% 800%",n.backgroundPosition="-"+48*o+"px -"+38*i+"px"}else if("bounce"===this.props.skin){if(e.tileType_){var a=["tiles_wall","goal","ball","paddle","paddle","ball","obstacle"][Math.log2(e.tileType_)];n.backgroundImage="url('/blockly/media/skins/bounce/"+a+".png')"}}else{if(t.push(m[e.tileType_]),d.utils.isBeeSkin(this.props.skin))e.isVariableCloud()?(t.push("conditional"),t.push(v[e.cloudType_])):void 0!==e.featureType_&&t.push(T[e.featureType_]);else if(e.isDirt()){t.push("dirt");var s=e.getCurrentValue(),l=10+s+(s<0?1:0);n.backgroundPosition=50*-l}void 0!==e.originalValue_&&null!==e.originalValue_&&(r=e.originalValue_.toString(),e.range_&&e.range_>e.originalValue_&&(r+=" - "+e.range_.toString()))}return u.default.createElement("td",{className:t.join(" "),onClick:this.props.onClick.bind(null,this.props.row,this.props.col),onMouseDown:this.props.onMouseDown.bind(null,this.props.row,this.props.col),onMouseOver:this.props.onMouseOver.bind(null,this.props.row,this.props.col),onMouseUp:this.props.onMouseUp.bind(null,this.props.row,this.props.col),style:n},r)},S);function S(){return a(this,S),s(this,f.apply(this,arguments))}y.propTypes={cell:o.default.object.isRequired,row:o.default.number.isRequired,col:o.default.number.isRequired,selected:o.default.bool.isRequired,onClick:o.default.func.isRequired,onMouseDown:o.default.func.isRequired,onMouseOver:o.default.func.isRequired,onMouseUp:o.default.func.isRequired,skin:o.default.string.isRequired,highlighted:o.default.bool};var O,E=(l(b,O=u.default.Component),b.prototype.isHighlighting=function(e,t){return!(!this.state.dragging||!this.state.dragCurrent)&&e>=Math.min(this.state.dragStart.row,this.state.dragCurrent.row)&&e<=Math.max(this.state.dragStart.row,this.state.dragCurrent.row)&&t>=Math.min(this.state.dragStart.col,this.state.dragCurrent.col)&&t<=Math.max(this.state.dragStart.col,this.state.dragCurrent.col)},b.prototype.render=function(){var o=this,e=this.props.cells.map(function(e,r){var t=e.map(function(e,t){var n=o.props.selectedRow===r&&o.props.selectedCol===t;return u.default.createElement(y,{key:"cell-"+r+"-"+t,cell:e,row:r,col:t,selected:n,highlighted:o.isHighlighting(r,t),onClick:o.props.onSelectionChange,onMouseDown:o.beginDrag,onMouseOver:o.moveDrag,onMouseUp:o.endDrag,skin:o.props.skin})});return u.default.createElement("tr",{key:"row-"+r},t)});return u.default.createElement("table",null,u.default.createElement("tbody",null,e))},b);function b(){var e,l;a(this,b);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=l=s(this,O.call.apply(O,[this].concat(n)))).state={},l.beginDrag=function(e,t){l.setState({dragging:!0,dragStart:{row:e,col:t}})},l.moveDrag=function(e,t){l.state.dragging&&l.setState({dragCurrent:{row:e,col:t}})},l.endDrag=function(e,t){var n=l.state.dragStart;if(l.setState({dragging:!1,dragStart:null,dragCurrent:null}),n&&(n.row!==e||n.col!==t)){var r=Math.min(n.row,e),o=Math.min(n.col,t),i=Math.max(n.row,e),a=Math.max(n.col,t),s=l.props.cells.slice(r,i+1).map(function(e){return e.slice(o,a+1).map(function(e){return e.serialize()})});l.props.setCopiedCells(s)}},s(l,e)}E.propTypes={cells:o.default.arrayOf(o.default.arrayOf(o.default.object)).isRequired,selectedRow:o.default.number,selectedCol:o.default.number,skin:o.default.string.isRequired,onSelectionChange:o.default.func.isRequired,setCopiedCells:o.default.func.isRequired},t.default=E,e.exports=t.default},3337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(185),a=s(n(1787));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u,c={button:{float:"left",marginRight:"5px"},attachment:{background:"#08c",color:"#fff",borderRadius:"4px",padding:"0 5px",margin:"4px 4px 4px 0",float:"left",fontSize:"0.8em"}},d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,u=o.default.Component),p.prototype.componentWillMount=function(){i.assets.getFiles(this.onAssetListReceived)},p.prototype.componentDidMount=function(){this.isMounted_=!0},p.prototype.componentWillUnmount=function(){this.isMounted_=!1},p.prototype.render=function(){var e=o.default.createElement("span",{style:{fontSize:"0.8em"}},"Loading...");this.state.loaded&&(e=a.default.list().map(function(e){var t=i.assets.basePath(e.filename);return o.default.createElement("a",{key:e.filename,style:c.attachment,href:t,className:"uitest-attachment",target:"_blank"},e.filename)}));var t=void 0;return this.props.readonly||(t=o.default.createElement("input",{style:c.button,className:"btn btn-default",type:"button",value:"Add/Remove Attachments",onClick:this.showAssetManager})),o.default.createElement("span",null,t,e)},p);function p(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=l(this,u.call.apply(u,[this].concat(r)))).state={loaded:!1},t.onAssetListReceived=function(e){a.default.reset(e.files),t.isMounted_&&t.setState({loaded:!0})},t.showAssetManager=function(){dashboard.assets.showAssetManager(null,"document",t.setState.bind(t,{loaded:!0}),{showUnderageWarning:t.props.showUnderageWarning})},l(t,e)}d.propTypes={readonly:r.default.bool,showUnderageWarning:r.default.bool},t.default=d,window.dashboard=window.dashboard||{},window.dashboard.Attachments=d,e.exports=t.default},3338:function(e,t,n){"use strict";var r,o=n(9),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t,n,r,o,i,a){var s=[[.7,"#00FF00"],[.5,"#b4ff00"],[.45,"#ccff00"],[.4,"#ffff00"],[.3,"#ffdf00"],[.2,"#ff8100"],[.15,"#ff9900"],[.1,"#ff0000"],[.05,"#a61c00"],[0,"#5b0f00"]];Handsontable.renderers.NumericRenderer.apply(this,arguments);for(var l=parseFloat(i),u=0;u<s.length;u++)if(l>=s[u][0])return void(t.style.background=s[u][1])}function s(e,t,n,r,o,i,a){var s=[[.98,"#00FF00"],[.95,"#94ff20"],[.92,"#b5ff04"],[.9,"#d7ff00"],[.85,"#efff00"],[.82,"#ffdf00"],[.8,"#ff9900"],[.75,"#ff6900"],[.7,"#ff3a00"],[0,"#ff0000"]];Handsontable.renderers.NumericRenderer.apply(this,arguments);for(var l=parseFloat(i),u=0;u<s.length;u++)if(l>=s[u][0])return void(t.style.background=s[u][1])}function l(e,t,n,r,o,i,a){var s=0;if(i){var l=parseFloat(i),u=Math.floor(l/60),c=l-60*u;i=("0"+u).substr(-2)+":"+("0"+c).substr(-2),s=Math.min(1,l/600)}Handsontable.renderers.TextRenderer.apply(this,arguments),t.style["font-family"]="monospace",t.style.background="linear-gradient(90deg, silver "+100*s+"%, white 0%)"}t.hideAndShowDomElements=function(e,t){e&&(0,i.default)("#samplingMessage").show(),t&&(0,i.default)("#completionTable").show()},t.populateTable=function(e,t){(0,i.default)("#completionTable").handsontable({data:t,startRows:10,startCols:9,colHeaders:e,colWidths:[200,100,100,100,100,100,100,100,100,100],stretchH:"none",columnSorting:!0,manualColumnResize:!0,columns:[{data:"Puzzle"},{data:"TotalAttempt",type:"numeric"},{data:"TotalSuccess",type:"numeric"},{data:"Avg Success Rate",type:"numeric",format:"0.00%"},{data:"Avg attempts per completion",type:"numeric",format:"0.00"},{data:"UniqueAttempt",type:"numeric"},{data:"UniqueSuccess",type:"numeric"},{data:"Perceived Dropout",type:"numeric"},{data:"Avg Unique Success Rate",type:"numeric",format:"0.00%"},{data:"timeOnSite"}],cells:function(e,t,n){return 3===t?{renderer:a}:8===t?{renderer:s}:9===t?{renderer:l}:{}}})}},3339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9)),a=r(n(1)),s=r(n(7)),l=r(n(3340));function r(e){return e&&e.__esModule?e:{default:e}}t.default={init:function(t,e,n){var r=void 0;function o(){if(!r){var e=document.createElement("div");e.id="pairing",document.body.appendChild(e),r=s.default.render(a.default.createElement(l.default,{source:t}),e)}r.open()}n&&o(),(0,i.default)("#pairing_link").show().click(function(){return o(),e(),!1})}},e.exports=t.default},3340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=s(n(3341)),a=s(n(70));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,u=o.default.Component),d.prototype.render=function(){return o.default.createElement(a.default,{isOpen:this.state.isOpen,handleClose:this.close},o.default.createElement(i.default,{source:this.props.source,handleClose:this.close}))},d);function d(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=l(this,u.call.apply(u,[this].concat(r)))).state={isOpen:!1},t.close=function(){return t.setState({isOpen:!1})},t.open=function(){return t.setState({isOpen:!0})},l(t,e)}c.propTypes={source:r.default.string},t.default=c,e.exports=t.default},3341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(9)),r=u(n(0)),o=u(n(1)),a=u(n(3342)),s=u(n(3343)),l=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d,p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,d=o.default.Component),f.prototype.componentWillMount=function(){var t=this;i.default.ajax({url:this.props.source,method:"GET",dataType:"json"}).done(function(e){t.setState({pairings:e.pairings,sections:e.sections})}).fail(function(e){})},f.prototype.selectedSectionId=function(){return 1===this.state.sections.length?+this.state.sections[0].id:this.state.selectedSectionId},f.prototype.selectedSection=function(){var t=this.selectedSectionId();return t&&this.state.sections.find(function(e){return e.id===t})||null},f.prototype.studentsInSection=function(){var e=this.selectedSection();return e?e.students:null},f.prototype.renderPairingSelector=function(){return o.default.createElement("div",{style:{maxHeight:.8*window.innerHeight-100,overflowY:"auto"}},o.default.createElement("p",{className:"dialog_title"},l.default.pairProgramming()),o.default.createElement("h1",null,l.default.pairProgrammingChosePartners()),o.default.createElement("br",null),o.default.createElement("form",null,o.default.createElement(a.default,{sections:this.state.sections,selectedSectionId:this.selectedSectionId(),handleChange:this.handleSectionChange}),o.default.createElement("div",{className:"clear"}),o.default.createElement(s.default,{students:this.studentsInSection(),handleSubmit:this.handleAddPartners})))},f.prototype.renderPairingState=function(){return o.default.createElement("div",null,o.default.createElement("h1",null,l.default.pairProgramming()),o.default.createElement("h2",null,l.default.pairProgrammingWith()),this.state.pairings.map(function(e){return o.default.createElement("div",{key:e.id,"data-id":e.id,className:"student"},e.name)}),o.default.createElement("div",{className:"clear"}),o.default.createElement("button",{type:"button",className:"stop",onClick:this.handleStop},l.default.pairProgrammingStop()),o.default.createElement("button",{type:"button",className:"ok",onClick:this.props.handleClose},"OK"))},f.prototype.render=function(){return 0===this.state.pairings.length?this.renderPairingSelector():this.renderPairingState()},f);function f(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n=c(this,d.call.apply(d,[this].concat(r)))).state={pairings:[],sections:[]},n.handleSectionChange=function(e){n.setState({pairings:[],sections:n.state.sections,selectedSectionId:+e.target.value})},n.refreshUserMenu=function(){i.default.ajax({type:"GET",url:"/dashboardapi/user_menu",success:function(e){return(0,i.default)("#sign_in_or_user").html(e)}})},n.handleAddPartners=function(t){var e=n.selectedSection().students.filter(function(e){return-1!==t.indexOf(e.id)});n.props.handleClose&&n.props.handleClose(),i.default.ajax({url:n.props.source,data:JSON.stringify({pairings:e}),contentType:"application/json; charset=utf-8",method:"PUT",dataType:"json",context:n}).done(n.refreshUserMenu).fail(function(e,t,n){})},n.handleStop=function(e){n.setState({pairings:[]}),i.default.ajax({url:n.props.source,data:JSON.stringify({pairings:[]}),contentType:"application/json; charset=utf-8",method:"PUT",dataType:"json"}).done(function(){n.refreshUserMenu(),n.props.handleClose()}).fail(function(e,t,n){}),e.preventDefault()},c(n,e)}p.propTypes={source:r.default.string,handleClose:r.default.func},t.default=p,e.exports=t.default},3342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(2925),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l=o.default.Component),c.prototype.render=function(){return 0===this.props.sections.length||1===this.props.sections.length?null:o.default.createElement("select",{name:"sectionId",value:this.props.selectedSectionId,onChange:this.props.handleChange},o.default.createElement("option",{key:"blank",value:""},a.default.chooseSection()),this.props.sections.map(function(e){return o.default.createElement("option",{key:e.id,value:e.id},e.name)}))},c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.apply(this,arguments))}u.propTypes={sections:r.default.arrayOf(r.default.shape({id:r.default.number,name:r.default.string,students:i.studentsShape})),selectedSectionId:r.default.number,handleChange:r.default.func.isRequired},t.default=u,e.exports=t.default},3343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=n(2925),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,u=o.default.Component),d.prototype.render=function(){var n=this;if(!this.props.students)return null;if(0===this.props.students.length)return o.default.createElement("span",null,a.default.noStudentsInSection());var e=this.props.students.map(function(e){var t="student selectable";return-1!==n.state.selectedStudentIds.indexOf(e.id)&&(t="student selectable selected"),o.default.createElement("div",{key:e.id,"data-id":e.id,className:t,onClick:n.handleStudentClicked},e.name)});return o.default.createElement("div",null,e,o.default.createElement("div",{className:"clear"}),0!==this.state.selectedStudentIds.length&&o.default.createElement("button",{type:"button",onClick:this.handleSubmit,className:"addPartners"},a.default.addPartners()))},d);function d(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o=l(this,u.call.apply(u,[this].concat(n)))).state={selectedStudentIds:[]},o.handleStudentClicked=function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.state.selectedStudentIds)),n=+e.target.getAttribute("data-id"),r=t.indexOf(n);-1===r?t.push(n):t.splice(r,1),o.setState({selectedStudentIds:t})},o.handleSubmit=function(e){o.props.handleSubmit(o.state.selectedStudentIds),e.preventDefault()},l(o,e)}c.propTypes={students:i.studentsShape,handleSubmit:r.default.func.isRequired},t.default=c,e.exports=t.default},3344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(9),i=(r=o)&&r.__esModule?r:{default:r},a=n(46),s=n(498),l=n(375);var u=(c.prototype.getOptional=function(){return this.optional},c.prototype.getResult=function(){var e=(0,i.default)("#level_"+this.levelId).val();return{response:e,valid:0<e.length,result:!0,testResult:a.TestResults.FREE_PLAY}},c.prototype.getAppName=function(){return"free_response"},c.prototype.lockAnswers=function(){(0,i.default)("textarea#level_"+this.levelId+".response").prop("disabled",!0)},c.prototype.getCurrentAnswerFeedback=function(){},c);function c(n,e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.levelId=n,this.optional=[!0,"true"].includes(e),(0,i.default)(document).ready(function(){var e=(0,i.default)("textarea#level_"+n+".response");if(!e.val()){var t=(0,l.sourceForLevel)(window.appOptions.scriptName,n);t&&e.val(t)}e.blur(function(){(0,s.onAnswerChanged)(n,!0)}),e.on("input",null,null,function(){(0,s.onAnswerChanged)(n,!1)})})}t.default=u,e.exports=t.default},3952:function(e,t,n){n(72),n(73),e.exports=n(3322)},9:function(e,t){e.exports=$}},[[3952,0,1,2]]]);
